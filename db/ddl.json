{
  "tables": [{
    "name": "WatchSession",
    "columns": [{
      "name": "watcherId",
      "addColumnDdl": "ALTER TABLE WatchSession ADD COLUMN watcherId STRING(MAX) NOT NULL"
    }, {
      "name": "seasonId",
      "addColumnDdl": "ALTER TABLE WatchSession ADD COLUMN seasonId STRING(MAX) NOT NULL"
    }, {
      "name": "episodeId",
      "addColumnDdl": "ALTER TABLE WatchSession ADD COLUMN episodeId STRING(MAX) NOT NULL"
    }, {
      "name": "date",
      "addColumnDdl": "ALTER TABLE WatchSession ADD COLUMN date STRING(MAX) NOT NULL"
    }, {
      "name": "updatedTimeMs",
      "addColumnDdl": "ALTER TABLE WatchSession ADD COLUMN updatedTimeMs FLOAT64"
    }],
    "createTableDdl": "CREATE TABLE WatchSession (watcherId STRING(MAX) NOT NULL, seasonId STRING(MAX) NOT NULL, episodeId STRING(MAX) NOT NULL, date STRING(MAX) NOT NULL, updatedTimeMs FLOAT64) PRIMARY KEY (watcherId ASC, seasonId ASC, episodeId ASC, date ASC)",
    "indexes": [{
      "name": "WatchSessionByUpdatedTime",
      "createIndexDdl": "CREATE INDEX WatchSessionByUpdatedTime ON WatchSession(watcherId, updatedTimeMs DESC)"
    }]
  }, {
    "name": "WatchedSeason",
    "columns": [{
      "name": "watcherId",
      "addColumnDdl": "ALTER TABLE WatchedSeason ADD COLUMN watcherId STRING(MAX) NOT NULL"
    }, {
      "name": "seasonId",
      "addColumnDdl": "ALTER TABLE WatchedSeason ADD COLUMN seasonId STRING(MAX) NOT NULL"
    }, {
      "name": "latestEpisodeId",
      "addColumnDdl": "ALTER TABLE WatchedSeason ADD COLUMN latestEpisodeId STRING(MAX)"
    }, {
      "name": "latestWatchSessionDate",
      "addColumnDdl": "ALTER TABLE WatchedSeason ADD COLUMN latestWatchSessionDate STRING(MAX)"
    }, {
      "name": "updatedTimeMs",
      "addColumnDdl": "ALTER TABLE WatchedSeason ADD COLUMN updatedTimeMs FLOAT64"
    }],
    "createTableDdl": "CREATE TABLE WatchedSeason (watcherId STRING(MAX) NOT NULL, seasonId STRING(MAX) NOT NULL, latestEpisodeId STRING(MAX), latestWatchSessionDate STRING(MAX), updatedTimeMs FLOAT64) PRIMARY KEY (watcherId ASC, seasonId ASC)",
    "indexes": [{
      "name": "WatchedSeasonByUpdatedTime",
      "createIndexDdl": "CREATE INDEX WatchedSeasonByUpdatedTime ON WatchedSeason(watcherId, updatedTimeMs DESC)"
    }]
  }, {
    "name": "WatchedEpisode",
    "columns": [{
      "name": "watcherId",
      "addColumnDdl": "ALTER TABLE WatchedEpisode ADD COLUMN watcherId STRING(MAX) NOT NULL"
    }, {
      "name": "seasonId",
      "addColumnDdl": "ALTER TABLE WatchedEpisode ADD COLUMN seasonId STRING(MAX) NOT NULL"
    }, {
      "name": "episodeId",
      "addColumnDdl": "ALTER TABLE WatchedEpisode ADD COLUMN episodeId STRING(MAX) NOT NULL"
    }, {
      "name": "latestWatchSessionDate",
      "addColumnDdl": "ALTER TABLE WatchedEpisode ADD COLUMN latestWatchSessionDate STRING(MAX)"
    }, {
      "name": "updatedTimeMs",
      "addColumnDdl": "ALTER TABLE WatchedEpisode ADD COLUMN updatedTimeMs FLOAT64"
    }],
    "createTableDdl": "CREATE TABLE WatchedEpisode (watcherId STRING(MAX) NOT NULL, seasonId STRING(MAX) NOT NULL, episodeId STRING(MAX) NOT NULL, latestWatchSessionDate STRING(MAX), updatedTimeMs FLOAT64) PRIMARY KEY (watcherId ASC, seasonId ASC, episodeId ASC)",
    "indexes": []
  }, {
    "name": "WatchLaterSeason",
    "columns": [{
      "name": "watcherId",
      "addColumnDdl": "ALTER TABLE WatchLaterSeason ADD COLUMN watcherId STRING(MAX) NOT NULL"
    }, {
      "name": "seasonId",
      "addColumnDdl": "ALTER TABLE WatchLaterSeason ADD COLUMN seasonId STRING(MAX) NOT NULL"
    }, {
      "name": "addedTimeMs",
      "addColumnDdl": "ALTER TABLE WatchLaterSeason ADD COLUMN addedTimeMs FLOAT64"
    }],
    "createTableDdl": "CREATE TABLE WatchLaterSeason (watcherId STRING(MAX) NOT NULL, seasonId STRING(MAX) NOT NULL, addedTimeMs FLOAT64) PRIMARY KEY (watcherId ASC, seasonId ASC)",
    "indexes": [{
      "name": "WatchLaterSeasonByAddedTime",
      "createIndexDdl": "CREATE INDEX WatchLaterSeasonByAddedTime ON WatchLaterSeason(watcherId, addedTimeMs DESC)"
    }]
  }]
}